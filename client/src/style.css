html {
  height: 100%;
  box-sizing: border-box;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

:root {
  --Grey-Light-Grey: #f4f5f0;
  --Primary-Green: #24a094;
  --Black-Black: #0d0d0d;
  --White-Pure-White: #fff;
  --Black-Pure-Black: #000;
  --Grey-Dark-Grey: #808080;
  --Primary-Light-Pink: #ff90e7;
  --Secondary-Dark-Red: #98282a;
  --Secondary-Yellow: #6f5700;
  --Secondary-Dark-Pink: #b23386;
}

body {
  font-family: "Mabry Pro", Arial, sans-serif; /* Added Mabry Pro */
  background: var(--Grey-Light-Grey);
  margin: 0;
  padding: 0 32px;
  width: 100vw;
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* Align content to the start (top) */
  align-items: center;
  overflow-x: hidden;
}

#root {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* Align content to the start (top) */
  align-items: center;
  position: relative; /* Make #root a positioning context */
}

/* Header Styles */
.app-header {
  display: flex;
  width: 100%; /* Let max-width and content define width */
  max-width: 980px;
  padding: 16px 20px; /* Added some horizontal padding */
  box-sizing: border-box; /* Ensure padding is included in width calculation */
  justify-content: space-between;
  align-items: center;
  position: absolute;
  top: 0; /* Position at the top */
  left: 50%; /* Center horizontally */
  transform: translateX(-50%); /* Adjust for centering */
  z-index: 10; /* Ensure it's above other content if necessary */
}

.website-name {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer; /* For clickable feel */
}

.website-logo-icon {
  width: 48px;
  height: 48px;
  aspect-ratio: 1/1;
}

.website-name-text {
  color: var(--Primary-Green, #24a094);
  font-family: "Mabry Pro", sans-serif; /* Ensure Mabry Pro is used */
  font-size: 32px;
  font-style: normal;
  font-weight: 900;
  line-height: 79.2px; /* 247.5% - this seems very large, might need adjustment */
  /* Consider a more standard line-height like 1.2 or normal if 79.2px is too much */
}

.github-link {
  /* Style the anchor tag for the GitHub icon */
  display: flex; /* Helps with alignment if needed */
  align-items: center;
}

.github-icon {
  width: 48px;
  height: 48px;
  flex-shrink: 0;
  aspect-ratio: 1/1;
}

/* Main Content Styling */
.main-section {
  display: flex;
  max-width: 980px;
  width: 100%; /* Ensure it takes available width up to max-width */
  padding: 24px 0px;
  flex-direction: column;
  justify-content: center; /* This will center content if body has enough height */
  align-items: center; /* This should center its children like .content-div */
  flex: 1 0 0; /* Allows this section to grow and fill available space */
  /* align-self: stretch; */ /* Removed to allow parent's align-items:center to work */
  margin-top: 80px; /* Adjust if header is taller or needs more space */
  box-sizing: border-box; /* Include padding in width/height */
}

.content-div {
  display: flex;
  flex-direction: column;
  align-items: flex-start; /* Changed from center to flex-start as per spec */
  gap: 32px;
  align-self: stretch;
  width: 100%; /* Ensure it takes full width of main-section */
}

.send-receive-div {
  display: flex;
  padding: 40px;
  flex-direction: column;
  align-items: flex-start;
  gap: 24px;
  align-self: stretch;
  border: 1px solid var(--Black-Black, #0d0d0d);
  background: var(--White-Pure-White, #fff);
  box-sizing: border-box;
}

.subhead {
  display: flex;
  align-items: center;
  gap: 8px; /* Gap between icon and text in subhead */
}

/* .subhead-icon { */ /* Removed as SVG is now direct child of .subhead */
/* width: 24px; */
/* height: 24px; */
/* aspect-ratio: 1/1; */
/* } */

.subhead-text {
  color: #000; /* Direct color, not variable for now */
  text-align: center;
  font-family: "Mabry Pro", sans-serif;
  font-size: 24px;
  font-style: normal;
  font-weight: 400;
  line-height: 30px; /* 125% */
}

/* Overriding existing .container and .dropzone for the new design */
.container {
  /* This class might not be directly used for the main layout anymore if .main-section takes over */
  /* If still used for other views, review its styling. For now, keeping original for other steps. */
  max-width: 400px;
  margin: 2em auto;
  background: #fff;
  padding: 2em;
  border-radius: 1em;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.07);
  text-align: center;
}

.dropzone {
  /* This is for the react-dropzone component's wrapper */
  display: flex;
  height: 266px;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 8px;
  align-self: stretch;
  border: 1px dashed var(--Black-Pure-Black, #000);
  /* background-color: var(--White-Pure-White); */ /* Replaced by subtle green */
  background-color: rgba(
    36,
    160,
    148,
    0.01
  ); /* --Primary-Green at 0.1 opacity */
  /* background-image: radial-gradient(var(--Grey-Dark-Grey, #808080) 0.5px, transparent 0.5px); */ /* Dots removed */
  /* background-size: 5px 5px; */ /* Dots removed */
  cursor: pointer;
  padding: 20px; /* Add some padding */
  box-sizing: border-box;
  transition: background-color 0.2s ease, border-color 0.2s ease; /* For interactions */
}

.dropzone:hover {
  background-color: rgba(
    36,
    160,
    148,
    0.15
  ); /* Slightly more opaque on hover */
  border-color: var(--Primary-Green, #24a094);
}

.dropzone.drag-over {
  /* Class to be added by JS when dragging over */
  background-color: rgba(
    36,
    160,
    148,
    0.2
  ); /* --Primary-Green at 0.2 opacity on drag over */
  border-style: solid;
  border-color: var(--Primary-Green, #24a094);
}

.dropzone-internal-content {
  /* Styles for the custom content inside react-dropzone */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 8px;
  text-align: center;
}

.dropzone-icon {
  width: 48px;
  height: 48px;
  flex-shrink: 0;
  aspect-ratio: 1/1;
}

.dropzone-text {
  align-self: stretch;
  color: var(--Black-Pure-Black, #000);
  text-align: center;
  font-family: "Mabry Pro", sans-serif;
  font-size: 24px;
  font-style: normal;
  font-weight: 400;
  line-height: 30px; /* 125% */
}

.upload-warning {
  color: #e74c3c; /* Existing warning color */
  margin-bottom: 1em;
  font-weight: bold;
  font-size: 14px; /* Adjust as needed */
  align-self: center; /* Center warning text */
  text-align: center;
}

.receive-subcontainer {
  display: flex;
  align-items: center;
  gap: 24px;
  align-self: stretch;
}

.drive-code-input {
  /* Styles for the text input field */
  display: flex;
  height: 48px;
  padding: 10px 18px;
  align-items: center;
  gap: 10px;
  flex: 1 0 0;
  border-radius: 3px;
  border: 0.8px solid var(--Black-Pure-Black, #000);
  background: var(--White-Pure-White, #fff);
  font-family: "Mabry Pro", sans-serif;
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: 24px; /* 150% */
  color: var(--Black-Pure-Black, #000); /* User entered text color */
  box-sizing: border-box;
}

.drive-code-input::placeholder {
  color: var(--Grey-Dark-Grey, #808080);
  /* text-align: center; Placeholder text alignment can be tricky, often inherits from input */
}

/* Overriding existing input[type="text"] and button for the new design in this context */
/* These might need to be more specific if other inputs/buttons exist */
input[type="text"] {
  /* General override, consider more specific selectors if needed */
  /* width: 70%; */ /* Replaced by flex behavior in receive-subcontainer */
  padding: 10px 18px; /* Match new spec */
  /* margin-right: 0.5em; */ /* Replaced by gap */
  border: 0.8px solid var(--Black-Pure-Black, #000); /* Match new spec */
  border-radius: 3px; /* Match new spec */
  height: 48px; /* Match new spec */
  box-sizing: border-box;
  font-family: "Mabry Pro", sans-serif;
  font-size: 16px;
}

button {
  /* General override, consider more specific selectors if needed */
  /* background: #4f8cff; */ /* Overridden by new button style */
  /* color: #fff; */ /* Overridden by new button style */
  /* border: none; */ /* Overridden by new button style */
  /* border-radius: 4px; */ /* Overridden by new button style */
  /* padding: 0.6em 1.2em; */ /* Overridden by new button style */
  cursor: pointer;
  /* margin-top: 1em; */ /* Context-dependent */
  font-family: "Mabry Pro", sans-serif; /* Ensure font consistency */
  font-weight: 500; /* A bit bolder for buttons */
}

.join-drive-button {
  display: flex;
  height: 50px;
  max-width: 271.85px;
  width: auto;
  padding: 12px 16px;
  justify-content: center;
  align-items: center;
  border-radius: 4px;
  border: 0.8px solid var(--Black-Pure-Black, #000);
  background: var(--Primary-Light-Pink, #ff90e7);
  color: var(--Black-Pure-Black, #000);
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  /* Default state: NO shadow as per latest instruction */
  /* box-shadow: 5px 5px 0px 0px var(--Black-Pure-Black, #000); */
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
  margin-top: 0;
}

.join-drive-button:hover {
  /* Hover state: SHOWS shadow as per latest instruction */
  background: var(
    --Primary-Light-Pink,
    #ff90e7
  ); /* Background remains the same */
  border-radius: 4px; /* Maintained */
  border: 0.8px solid var(--Black-Pure-Black, #000); /* Maintained */
  box-shadow: 5px 5px 0px 0px var(--Black-Pure-Black, #000);
  /* No transform on hover */
}

.join-drive-button:active {
  /* Click state */
  background: var(--Primary-Light-Pink, #ff90e7); /* Maintained */
  box-shadow: none; /* Shadow disappears */
  transform: translate(
    5px,
    5px
  ); /* Moves right and down to cover hover shadow position */
}

.join-drive-button.loading {
  /* Loading state */
  border-radius: 4px;
  opacity: 0.5;
  background: var(--Black-Pure-Black, #000);
  color: var(--White-Pure-White, #fff); /* Text color for dark loading button */
  box-shadow: none; /* Remove shadow in loading state */
  pointer-events: none; /* Disable clicks */
}

button:disabled {
  background: #bbb !important;
  color: #eee !important;
  cursor: not-allowed !important;
  opacity: 1 !important;
  pointer-events: none !important;
}
/* Remove generic button hover if it conflicts */
/* button:hover {
  background: #2566d4;
} */

/* Error Message Styling */
.error-subcontainer {
  display: flex; /* To align icon and text if needed, or just for the field itself */
  width: 100%; /* Take full width of its parent (.send-receive-div) */
  margin-top: 16px; /* Space above the error message */
}

.error-field {
  display: flex;
  align-items: center;
  padding: 10px 18px; /* Consistent padding */
  gap: 8px; /* Space between icon and text */
  border-radius: 3px;
  border: 0.8px solid var(--Secondary-Dark-Red, #98282a);
  background: rgba(152, 40, 42, 0.2);
  width: 100%; /* Make the field take full width of .error-subcontainer */
  box-sizing: border-box;
}

.error-icon {
  width: 24px;
  height: 24px;
  aspect-ratio: 1/1;
  flex-shrink: 0; /* Prevent icon from shrinking */
}

.error-text {
  color: var(--Secondary-Dark-Red, #98282a); /* Make text red as well */
  font-family: "Mabry Pro", sans-serif;
  font-size: 14px; /* Slightly smaller for error messages */
  line-height: 20px;
  flex-grow: 1; /* Allow text to take remaining space */
}

/* Sender View Specific Styles */
.append-div {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 12px;
  align-self: stretch;
  width: 100%; /* Ensure it takes full width */
}

.info-for-user {
  display: flex;
  /* height: 48px; */ /* Height will be determined by content + padding */
  padding: 10px 18px;
  align-items: center;
  gap: 8px;
  align-self: stretch;
  border-radius: 3px;
  border: 0.8px solid var(--Secondary-Yellow, #6f5700);
  background: rgba(241, 243, 50, 0.2);
  box-sizing: border-box;
}

.info-icon {
  width: 24px;
  height: 24px;
  aspect-ratio: 1/1;
  flex-shrink: 0;
}

.info-text {
  color: var(--Secondary-Yellow, #6f5700);
  font-family: "Mabry Pro", sans-serif;
  font-size: 14px; /* Slightly smaller for info messages */
  line-height: 20px;
  flex-grow: 1;
}

/* Modifier for the dropzone in the sender append view */
.dropzone.dropzone-append {
  height: 136px; /* Reverted height back to 136px */
  /* Inherits other .dropzone styles like border, background, etc. */
}

/* Styles for QR Code / Link / File List sections in Sender View */
.sharing-info-section {
  /* This is the main container for QR, Link, Code */
  display: flex;
  padding: 40px;
  flex-direction: column;
  align-items: flex-start;
  gap: 32px;
  align-self: stretch;
  border: 1px solid var(--Black-Black, #0d0d0d);
  background: var(--White-Pure-White, #fff);
  /* Removed layout styles, now handled by .link-details */
}

.link-details {
  /* Wrapper for QR and Right Div */
  display: flex;
  align-items: center;
  gap: 24px;
  align-self: stretch;
  width: 100%; /* Ensure it takes full width of parent */
}

.qr-code-container {
  /* For the QR code block */
  width: 200px; /* Increased base size */
  height: 200px;
  aspect-ratio: 1/1;
  /* background: url(<path-to-image>) lightgray 50% / cover no-repeat; */ /* Placeholder, actual QR is canvas */
  background-color: lightgray; /* Fallback if QR doesn't load */
  display: flex; /* To center the canvas if smaller */
  justify-content: center;
  align-items: center;
  flex-shrink: 0; /* Prevent shrinking */
}

/* Ensure canvas fills the container */
.qr-code-container canvas {
  width: 100% !important;
  height: 100% !important;
  object-fit: contain; /* Scale QR code correctly within bounds */
}

.link-details-right-div {
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* Distributes space between link and code */
  align-items: flex-start;
  flex: 1 1 0; /* Allow shrinking (middle value 1) */
  min-width: 0; /* Crucial for allowing flex items with overflow text to shrink */
  align-self: stretch; /* Stretches to height of .sharing-info-section */
}

.subcontainer-padding {
  /* For Drive Link */
  display: flex;
  padding: 16px;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;
  border: 1px solid var(--Black-Pure-Black, #000);
  /* Removed border */
  min-width: 0; /* Allow shrinking if necessary */
}

.drive-link-text {
  /* User provided styles */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
  flex: 1 0 0; /* Use flex: 1 0 0 as provided */
  overflow: hidden;
  color: var(--Black-Pure-Black, #000);
  text-overflow: ellipsis;
  font-family: "Mabry Pro";
  font-size: 20px;
  font-style: normal;
  font-weight: 400;
  line-height: 24px; /* 120% */
  /* Added/Retained properties */
  margin-right: 10px; /* Space before copy button */
  min-width: 0; /* Helps flex item shrink and trigger ellipsis */
}

.copy-button {
  display: flex;
  width: 48px;
  height: 48px;
  justify-content: center;
  align-items: center;
  border-radius: 2px;
  border: 0.48px solid var(--Black-Pure-Black, #000);
  background: var(--White-Pure-White, #fff); /* White background */
  cursor: pointer;
  flex-shrink: 0;
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out; /* Add transition */
  /* background-color: violet; */ /* Ensure debug color is removed */
}

.copy-button:hover {
  box-shadow: 3px 3px 0px 0px var(--Black-Pure-Black, #000); /* Shadow on hover */
}

.copy-button:active {
  transform: translate(3px, 3px); /* Move on active */
  box-shadow: none; /* Remove shadow on active */
}

.copy-button svg {
  width: 24px; /* Adjusted from 32px to fit 48px button with some padding */
  height: 24px;
  /* flex-shrink: 0; */ /* Not needed on SVG if parent is flex centered */
}

.drive-code-display-div {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 2px;
}

.drive-code-label {
  color: var(--Black-Pure-Black, #000);
  text-align: center;
  font-family: "Mabry Pro";
  font-size: 16px;
  font-style: normal;
  font-weight: 500;
  line-height: normal;
}

.drive-code-value {
  color: var(--Secondary-Dark-Pink, #b23386);
  text-align: center;
  font-family: "Mabry Pro";
  font-size: 36px;
  font-style: normal;
  font-weight: 700;
  line-height: 32px;
  overflow-wrap: break-word; /* Prevent long codes from breaking layout */
}

/* Toast/Snackbar Styling */
.toast-snackbar {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--White-Pure-White, #fff); /* White background */
  color: var(--Black-Pure-Black, #000); /* Black text */
  border: 1.5px solid var(--Black-Pure-Black, #000); /* Black border */
  padding: 12px 20px;
  z-index: 1000;
  display: flex;
  align-items: center;
  gap: 8px;
  font-family: "Mabry Pro", sans-serif;
  font-size: 14px;
  opacity: 0;
  visibility: hidden;
  transform: translateX(-50%) translateY(100%); /* Start centered below viewport */
  transition: transform 0.3s ease-out, opacity 0.3s ease-out, visibility 0.3s; /* Add transform to transition */
}

.toast-snackbar.show {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(0); /* Slide up to final centered position */
}

.toast-snackbar-icon {
  width: 18px; /* Adjusted size for snackbar */
  height: 18px;
}

.file-list-section {
  /* Keep this if used in receiver view */
  display: flex;
  flex-direction: column;
  padding: 20px;
  border: 1px solid var(--Black-Black, #0d0d0d);
  background: var(--White-Pure-White, #fff);
  align-self: stretch;
  box-sizing: border-box;
}

/* FileList Component Styles (New Structure) */
.drive-contents-div {
  /* Renamed from .file-list-section */
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
  align-self: stretch;
  width: 100%; /* Ensure full width */
  /* Removed padding/border/background as it's now inside sharing-info */
}

/* Styles for the new div-based structure */
.drive-contents-div > .structure {
  /* Apply border only to direct children of drive-contents-div */
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  align-self: stretch;
  width: 100%;
  border: 1px solid var(--Black-Black, #0d0d0d); /* Added border */
}

.level-div {
  /* Base style for folder/file rows */
  display: flex;
  padding: 16px 16px; /* Updated padding */
  justify-content: space-between; /* Updated justification */
  align-items: center;
  align-self: stretch;
  width: 100%;
  /* gap: 16px; */ /* Removed gap */
  transition: background-color 0.2s ease;
  /* Indentation will be handled dynamically via style prop based on level */
}

.level-div:hover {
  background-color: var(--Grey-Light-Grey);
}

.level-div.file-level {
  /* Modifier for files inside folders */
  padding-left: 32px; /* Specific padding for files */
  padding-right: 32px;
  /* border-bottom: none; */ /* No border for files inside folders - Removed as .level-div has no border */
}

.arrow-folder-div {
  /* Container for arrow + folder icon/name */
  display: flex;
  align-items: center;
  gap: 16px;
  flex-grow: 1;
  overflow: hidden;
  cursor: pointer;
}

.folder-arrow-icon {
  width: 24px;
  height: 24px;
  aspect-ratio: 1/1;
  flex-shrink: 0;
  transition: transform 0.2s ease;
  display: flex; /* Center SVG inside */
  justify-content: center;
  align-items: center;
}
.folder-arrow-icon svg {
  width: 100%;
  height: 100%;
}

.folder-arrow-icon.expanded {
  transform: rotate(90deg);
}

.folder-icon-name-div {
  display: flex;
  align-items: center;
  gap: 8px;
  overflow: hidden;
}

.folder-icon-svg,
.file-icon-svg {
  /* Combined styles for icons */
  width: 24px;
  height: 24px;
  aspect-ratio: 1/1;
  flex-shrink: 0;
}
/* Specific fill/stroke can be added for file types later */
.file-icon-svg path {
  fill: var(--Primary-Green); /* Example: Default file icon color */
}

.folder-name-text,
.file-name-text {
  /* Combined style for names */
  color: var(--Black-Pure-Black, #000);
  font-family: "Mabry Pro", sans-serif;
  font-size: 20px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.level-action-button {
  /* New base class for action buttons in file list */
  /* Style for the delete button icon */
  width: 32px;
  height: 32px;
  aspect-ratio: 1/1;
  cursor: pointer;
  flex-shrink: 0;
  margin-left: auto; /* Push delete button to the right */
  padding: 0; /* Remove padding to let flexbox center the icon */
  background: none;
  border: none;
  display: flex; /* Added for centering icon */
  justify-content: center; /* Added for centering icon */
  align-items: center; /* Added for centering icon */
}

.level-action-button svg {
  display: block;
  /* width: 100%; */ /* Let explicit size in MQ control this */
  /* height: 100%; */
}
.level-action-button {
  /* ... existing styles ... */
  border: 1px solid var(--Black-Pure-Black, #000); /* Added border */
  transition: transform 0.1s ease-out, box-shadow 0.1s ease-out;
}

.level-action-button:hover {
  /* Add shadow on hover */
  box-shadow: 3px 3px 0px 0px var(--Black-Pure-Black, #000);
  background: none; /* Ensure no background change on hover */
}
/* Removed hover fill change */
/* .level-delete-button:hover svg path { ... } */

.level-action-button:active {
  /* Add transform on active */
  transform: translate(3px, 3px); /* Adjusted to match shadow */
  box-shadow: none; /* Remove shadow on active */
  background: none; /* Ensure no background change on active */
}

.level-download-icon-button {
  /* Specific styles if needed, otherwise inherits from level-action-button */
}

/* Remove old progress/empty/error styles if replaced */
.folder-children-container {
  /* Wrapper for nested items */
  width: 100%;
  padding-left: 0; /* Reset padding, indentation is on level-div */
  /* border-left: 1px dashed #ccc; */ /* Removed border */
}
/* .folder-progress-container { ... } */
/* ... etc ... */
.file-list-empty {
  /* Old style, will be replaced by file-list-empty-textfield usage */
  color: #aaa;
  font-style: italic;
  padding: 20px;
}

.file-list-empty-textfield {
  display: flex;
  padding: 10px 18px;
  align-items: center;
  gap: 8px; /* Optional: if an icon were to be added */
  align-self: stretch;
  border-radius: 3px;
  border: 0.8px solid var(--Grey-Dark-Grey, #808080); /* Neutral border */
  background: rgba(200, 200, 200, 0.1); /* Subtle background */
  color: var(--Grey-Dark-Grey, #808080); /* Neutral text color */
  font-family: "Mabry Pro", sans-serif;
  font-size: 14px;
  line-height: 20px;
  text-align: center; /* Center the text */
  justify-content: center; /* Center content if flex */
  width: 100%; /* Take full width */
  box-sizing: border-box;
  margin-top: 8px; /* Add some space if it's inside a container */
}

.file-list-error {
  color: red;
  font-weight: bold;
  padding: 20px; /* Add some padding */
}

/* --- Responsive Styles --- */

@media (max-width: 768px) {
  body {
    padding: 0 16px; /* Reduce body horizontal padding */
  }

  .app-header {
    padding: 12px 10px; /* Reduce header padding */
  }
  .website-logo-icon,
  .github-icon {
    width: 36px; /* Smaller icons in header */
    height: 36px;
  }
  .website-name-text {
    font-size: 24px; /* Smaller website name */
    line-height: normal; /* Adjust line height */
  }

  .main-section {
    padding: 16px 0px; /* Reduce main section vertical padding */
    margin-top: 70px; /* Adjust margin if header height changed */
  }

  .send-receive-div,
  .sharing-info-section {
    padding: 20px; /* Reduce padding for main content blocks */
    gap: 20px; /* Reduce gap in content blocks */
  }
  .append-div {
    gap: 10px; /* Reduce gap in append div */
  }

  .subhead-text {
    font-size: 20px; /* Smaller subheadings */
  }

  .dropzone {
    height: 200px; /* Smaller dropzone */
    padding: 15px;
  }
  .dropzone-text {
    font-size: 16px; /* Smaller text in dropzone */
    line-height: 1.4;
  }
  .dropzone.dropzone-append {
    height: 120px; /* Adjust append dropzone height */
  }
  .dropzone-icon {
    width: 36px;
    height: 36px;
  }

  .drive-code-input,
  input[type="text"] {
    font-size: 14px; /* Smaller font in inputs */
    height: 42px; /* Adjust input height */
    padding: 8px 12px;
  }

  button,
  .join-drive-button,
  .file-list-button {
    /* Target file list download buttons too */
    font-size: 14px; /* Smaller font in buttons */
    padding: 10px 12px; /* Adjust button padding */
    height: 42px; /* Consistent button height */
  }
  .join-drive-button.loading {
    font-size: 14px; /* Ensure loading state matches */
  }
  .copy-button {
    width: 40px;
    height: 40px;
  }
  .copy-button svg {
    width: 20px; /* Explicit size for SVG */
    height: 20px;
    flex-shrink: 0; /* Prevent SVG from shrinking */
  }
  .level-action-button {
    /* Target base class for responsiveness */
    width: 30px; /* Container size */
    height: 30px;
  }
  .level-action-button svg {
    width: 18px; /* Explicit size for SVG */
    height: 18px;
    flex-shrink: 0; /* Prevent SVG from shrinking */
  }

  /* Move stacking of link-details to this breakpoint */
  .link-details {
    flex-direction: column; /* Stack QR and right details */
    align-items: center; /* Center items when stacked */
    gap: 16px;
  }
  /* Adjust QR container size for tablet */
  .qr-code-container {
    width: 160px;
    height: 160px;
  }
  .link-details-right-div {
    align-items: center; /* Center text elements */
    text-align: center;
    gap: 12px; /* Space between link and code display */
    width: 100%; /* Ensure it takes full width when stacked */
  }
  .subcontainer-padding {
    /* Drive link container */
    /* flex-direction: column; */ /* Keep side-by-side */
    align-items: center; /* Keep vertical alignment centered */
    gap: 8px; /* Keep gap */
    padding: 10px; /* Reduce padding */
    width: 100%; /* Ensure it takes full width */
    box-sizing: border-box; /* Include padding in width */
  }
  .drive-link-text {
    font-size: 16px; /* Smaller drive link text */
  }
  .drive-code-value {
    font-size: 30px; /* Smaller drive code display */
    line-height: 1.1;
  }

  .folder-name-text,
  .file-name-text {
    font-size: 16px; /* Smaller file/folder names */
  }
  .file-size {
    font-size: 12px; /* Smaller file size text */
  }

  .folder-arrow-icon,
  .folder-icon-svg,
  .file-icon-svg {
    width: 20px; /* Smaller icons in file list */
    height: 20px;
  }
  .arrow-folder-div {
    gap: 8px; /* Reduce gap for folder arrow and icon/name */
  }
  .level-div {
    padding: 12px 16px; /* Reduce padding in file list rows */
  }

  .file-list-empty-textfield,
  .error-field,
  .info-for-user {
    font-size: 13px; /* Smaller text for info/error/empty messages */
    padding: 8px 12px;
  }
  .error-icon,
  .info-icon {
    width: 20px;
    height: 20px;
  }
}

@media (max-width: 480px) {
  body {
    padding: 0 8px; /* Further reduce body padding */
  }
  .app-header {
    /* Consider stacking header items if needed, or further reducing sizes */
    /* For now, just reducing padding further */
    padding: 10px 5px;
  }
  .website-logo-icon,
  .github-icon {
    width: 32px;
    height: 32px;
  }
  .website-name-text {
    font-size: 20px;
  }
  .main-section {
    margin-top: 60px; /* Adjust if header is smaller */
  }

  .send-receive-div,
  .sharing-info-section {
    padding: 15px; /* Further reduce padding */
    gap: 15px;
  }
  .append-div {
    gap: 8px;
  }

  .subhead-text {
    font-size: 18px;
  }
  .subhead svg {
    /* Target SVGs directly in subhead */
    width: 20px;
    height: 20px;
  }

  .dropzone {
    height: 160px;
  }
  .dropzone-text {
    font-size: 14px;
  }
  .dropzone.dropzone-append {
    height: 100px;
  }
  .dropzone-icon {
    width: 32px;
    height: 32px;
  }

  .receive-subcontainer {
    flex-direction: column; /* Stack input and button */
    align-items: stretch; /* Make items take full width */
    gap: 12px; /* Add gap when stacked */
  }
  .drive-code-input,
  .join-drive-button {
    width: 100%; /* Full width when stacked */
    max-width: none; /* Remove max-width for button if it had one */
    margin-right: 0; /* Remove margin if any */
  }
  /* .join-drive-button {
      margin-top: 12px;
  } */ /* Gap handles this now */

  /* .link-details stacking moved to 768px breakpoint */
  .qr-code-container {
    width: 120px; /* Smaller QR code for mobile */
    height: 120px;
    /* margin-bottom: 16px; */ /* Gap handles this */
  }
  /* .link-details-right-div alignment moved to 768px breakpoint */
  .subcontainer-padding {
    /* Drive link container */
    /* flex-direction: column; */ /* REMOVE - Keep link and button side-by-side */
    align-items: center; /* Keep vertical alignment centered */
    gap: 8px; /* Keep gap */
    padding: 10px; /* Reduce padding */
    width: 100%; /* Ensure it takes full width */
    box-sizing: border-box; /* Include padding in width */
  }
  .drive-link-text {
    font-size: 14px; /* Smaller link text */
    /* width: 100%; */ /* Already set in base style */
    /* box-sizing: border-box; */ /* Already set in base style */
  }
  .drive-code-value {
    font-size: 24px; /* Smaller drive code */
  }
  .copy-button {
    width: 36px;
    height: 36px;
  }
  .copy-button svg {
    width: 18px; /* Explicit size for SVG */
    height: 18px;
    flex-shrink: 0; /* Prevent SVG from shrinking */
  }

  .folder-name-text,
  .file-name-text {
    font-size: 14px;
  }
  .file-size {
    font-size: 11px;
  }
  .level-div {
    padding: 10px 12px; /* Further reduce padding in file list rows */
  }
  .file-list-button {
    padding: 8px 10px;
    height: 38px;
    font-size: 13px;
  }
  .level-action-button {
    /* Target base class for responsiveness */
    width: 26px; /* Container size */
    height: 26px;
  }
  .level-action-button svg {
    width: 16px; /* Explicit size for SVG */
    height: 16px;
    flex-shrink: 0; /* Prevent SVG from shrinking */
  }
}

/* Receiver View Specific Styles */
.receiver-view-container > .subhead {
  /* Target direct child subhead for "Files in Drive" */
  width: 100%;
  justify-content: flex-start; /* Align "Files in Drive" text to the left */
  margin-bottom: 16px; /* Add some space below the title */
}

.receiver-top-div {
  display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;
  width: 100%;
  margin-bottom: 24px; /* Space before file list or progress */
}

.download-all-button {
  /* Uses .join-drive-button styles by default */
  /* Add any overrides if needed */
  min-width: 180px; /* Ensure it has some minimum width */
}

.download-all-button.disabled {
  background: #bbb !important;
  color: #eee !important;
  cursor: not-allowed !important;
  opacity: 1 !important; /* Override general button disabled opacity if needed */
  box-shadow: none; /* Remove shadow when disabled */
  transform: none; /* Remove transform when disabled */
}

/* New Progress Bar Styles */
.progress-display-container {
  /* Renamed from .global-zip-progress-container */
  display: flex;
  padding: 24px 16px;
  flex-direction: column;
  align-items: flex-start;
  gap: 8px;
  align-self: stretch;
  border: 1px solid var(--Black-Pure-Black, #000);
}

.progress-bar-wrapper {
  width: 100%; /* Max width will be controlled by parent, can set max-width if needed */
  /* max-width: 874px; */ /* As per spec, but might be too wide for mobile. Let's make it responsive. */
  height: 24px;
  border: 1px solid var(--Black-Pure-Black, #000);
  background-color: var(
    --White-Pure-White,
    #fff
  ); /* Background for the non-progress part */
  position: relative; /* For positioning text */
  overflow: hidden; /* To ensure fill doesn't go out */
}

.progress-bar-fill {
  background: var(--Primary-Green, #24a094);
  height: 100%;
  transition: width 0.2s ease-out; /* Smooth progress animation */
  /* No rounded corners */
}

.progress-bar-text {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 14px;
  font-weight: 500;
  line-height: 24px; /* Match height */
  color: var(--Black-Pure-Black, #000); /* Default to black */
  z-index: 1; /* Ensure it's above the fill for the inverse effect */
  /* mix-blend-mode: difference; */ /* This can create the inverse effect but might need careful handling */
}

/* This is a common trick for inverse text color on progress bars */
/* We'll need JS to toggle this class or use a more complex CSS setup */
.progress-bar-text.inverse {
  color: var(--White-Pure-White, #fff);
}

.progress-stats-container {
  /* Renamed from .progress-stats */
  display: flex;
  justify-content: space-between;
  align-items: center;
  align-self: stretch;
  width: 100%; /* Ensure it takes full width */
}

.progress-stats-container span {
  /* For "Speed:" and "ETR:" labels */
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
  color: var(--Black-Pure-Black, #000);
}

.progress-stats-container .stat-value {
  /* For the actual speed/ETA values */
  color: var(--Primary-Green, #24a094);
  font-weight: 500; /* Make values slightly bolder */
}

.progress-info-text {
  /* Renamed from .progress-wait-text */
  color: var(--Black-Black, #0d0d0d);
  font-family: "Mabry Pro";
  font-size: 14px;
  font-style: normal;
  font-weight: 300;
  line-height: normal;
  width: 100%; /* Ensure it takes full width and centers */
}

.receiver-error-subcontainer {
  margin-top: 0; /* Remove top margin if it's the only thing after FileList */
}

/* Responsive adjustments for receiver top div */
@media (max-width: 768px) {
  /* Or your preferred mobile breakpoint like 480px */
  .receiver-top-div {
    flex-direction: column;
    align-items: stretch; /* Make items take full width when stacked */
    gap: 16px; /* Add some gap when stacked */
  }
  .receiver-top-div .drive-code-display-div {
    align-items: center; /* Center the drive code text when stacked */
  }
  .download-all-button {
    width: 100%; /* Make button full width when stacked */
    max-width: none; /* Remove max-width if set */
  }
  .progress-bar-wrapper {
    /* max-width: 100%; */ /* Allow it to be responsive */
  }
  .progress-stats-container {
    flex-direction: column;
    align-items: flex-start;
    gap: 4px;
  }
}

.receiver-info-zipping {
  margin-bottom: 16px; /* Add some space below it before the progress bar or file list */
}
